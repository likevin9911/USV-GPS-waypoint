<launch>
    <!-- SLAM: Gmapping, Cartographer, Hector, Karto, Frontier_exploration, RTAB-Map -->
  <arg name="set_odom_frame" default="wamv/odom"/>
  <arg name="set_map_frame"  default="map"/>
  <arg name="set_base_frame" default="base_link"/>
  <arg name="rviz" default="true"/> 

  <!-- robot model -->
  <include file="$(find usv_gazebo)/launch/usv_bringup.launch">
  </include>
  
  <include file="$(find usv_gazebo)/launch/usv_navstack.launch">
  </include>



  <!-- Gmapping -->
  <node pkg="gmapping" type="slam_gmapping" name="wamv_slam_gmapping" output="screen">
    <param name="base_frame" value="$(arg set_base_frame)"/>
    <param name="odom_frame" value="$(arg set_odom_frame)"/>
    <param name="map_frame"  value="$(arg set_map_frame)"/>
    <rosparam command="load" file="$(find usv_gazebo)/config/gmapping_params.yaml" />
  </node>


  <!-- rviz -->
  <group if="$(arg rviz)">
    <node pkg="rviz" type="rviz" name="$(anon rviz)" respawn="false" output="screen" 
          args="-d $(find usv_gazebo)/rviz/launch.rviz"/>
  </group>
 
</launch>


